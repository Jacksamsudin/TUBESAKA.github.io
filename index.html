<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>TUBES AKA - Analisis Kompleksitas Algoritma</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f4f6f8;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    .box {
      background: white;
      padding: 20px;
      margin-bottom: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    input, button {
      padding: 8px;
      margin: 6px 0;
    }
    button {
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2980b9;
    }
    .result {
      font-weight: bold;
      margin-top: 10px;
    }
    footer {
      margin-top: 40px;
      font-size: 14px;
      color: #555;
      text-align: center;
    }
  </style>
</head>

<body>

<h1>Tugas Besar Analisis Kompleksitas Algoritma</h1>

<div class="box">
  <h2>Studi Kasus</h2>
  <p>
    Studi kasus yang digunakan adalah <b>perhitungan total konsumsi listrik harian</b>
    berdasarkan data penggunaan listrik (kWh) selama beberapa hari.
    Permasalahan ini diselesaikan menggunakan dua pendekatan algoritma, yaitu
    <b>iteratif</b> dan <b>rekursif</b>, untuk dibandingkan dari sisi efisiensi.
  </p>
</div>

<div class="box">
  <h2>Input Data Konsumsi Listrik</h2>
  <label>Jumlah Hari:</label><br>
  <input type="number" id="jumlahHari" min="1">
  <br>
  <button onclick="buatInput()">Buat Input</button>

  <div id="inputData"></div>

  <button onclick="hitungTotal()">Hitung Total</button>

  <div class="result" id="hasil"></div>
</div>

<div class="box">
  <h2>Deskripsi Algoritma</h2>

  <h3>Algoritma Iteratif</h3>
  <p>
    Algoritma iteratif menghitung total konsumsi listrik dengan menggunakan perulangan
    untuk menjumlahkan seluruh elemen array satu per satu.
  </p>
  <p><b>Kompleksitas Waktu:</b> O(n)</p>

  <h3>Algoritma Rekursif</h3>
  <p>
    Algoritma rekursif menghitung total konsumsi listrik dengan memanggil fungsi secara
    berulang hingga mencapai kondisi dasar (base case).
  </p>
  <p><b>Kompleksitas Waktu:</b> O(n)</p>
</div>

<div class="box">
  <h2>Grafik Perbandingan Running Time</h2>
  <p>
    Grafik berikut menunjukkan perbandingan waktu eksekusi algoritma iteratif dan rekursif
    berdasarkan ukuran input (jumlah data).
  </p>
  <canvas id="runtimeChart"></canvas>
</div>

<div class="box">
  <h2>Analisis Perbandingan</h2>
  <p>
    Berdasarkan grafik running time, algoritma iteratif memiliki waktu eksekusi yang
    lebih stabil dibandingkan algoritma rekursif. Walaupun kedua algoritma memiliki
    kompleksitas waktu O(n), algoritma rekursif memiliki overhead pemanggilan fungsi
    yang menyebabkan waktu eksekusi relatif lebih besar.
  </p>
</div>

<footer>
  <p>
    Tugas Besar Analisis Kompleksitas Algoritma<br>
    Informatika â€“ Telkom University
  </p>
</footer>

<script>
  // =============================
  // ALGORITMA ITERATIF
  function totalIteratif(data) {
    let total = 0;
    for (let i = 0; i < data.length; i++) {
      total += data[i];
    }
    return total;
  }

  // ALGORITMA REKURSIF
  function totalRekursif(data, n) {
    if (n === 0) return 0;
    return data[n - 1] + totalRekursif(data, n - 1);
  }

  // =============================
  // INPUT DINAMIS
  function buatInput() {
    const n = parseInt(document.getElementById("jumlahHari").value);
    const container = document.getElementById("inputData");
    container.innerHTML = "";

    if (isNaN(n) || n <= 0) {
      container.innerHTML = "<p>Masukkan jumlah hari yang valid.</p>";
      return;
    }

    for (let i = 0; i < n; i++) {
      container.innerHTML += `
        Hari ke-${i + 1}:
        <input type="number" class="data" min="0"><br>
      `;
    }
  }

  // =============================
  // HITUNG TOTAL
  function hitungTotal() {
    const inputs = document.querySelectorAll(".data");
    let data = [];

    inputs.forEach(input => {
      let value = parseInt(input.value);
      data.push(isNaN(value) ? 0 : value);
    });

    const iteratif = totalIteratif(data);
    const rekursif = totalRekursif(data, data.length);

    document.getElementById("hasil").innerHTML =
      `Total Konsumsi (Iteratif): ${iteratif} kWh<br>
       Total Konsumsi (Rekursif): ${rekursif} kWh`;
  }

  // =============================
  // GRAFIK RUNNING TIME
   function tampilkanGrafik() {
    const sizes = [10, 50, 100, 200, 500, 1000, 5000];
    const REPEAT = 300;

    let timeIteratif = [];
    let timeRekursif = [];

    sizes.forEach(n => {
      let data = Array.from({ length: n }, () => Math.floor(Math.random() * 10));

      // ===== ITERATIF =====
      let start = performance.now();
      for (let r = 0; r < REPEAT; r++) {
        let total = 0;
        for (let i = 0; i < data.length; i++) {
          total += data[i];
          // dummy workload
          for (let j = 0; j < 50; j++) {}
        }
      }
      let end = performance.now();
      timeIteratif.push((end - start) / REPEAT);

      // ===== REKURSIF =====
      function totalRekDummy(arr, n) {
        if (n === 0) return 0;
        // dummy workload
        for (let j = 0; j < 50; j++) {}
        return arr[n - 1] + totalRekDummy(arr, n - 1);
      }

      start = performance.now();
      for (let r = 0; r < REPEAT; r++) {
        totalRekDummy(data, data.length);
      }
      end = performance.now();
      timeRekursif.push((end - start) / REPEAT);
    });

    const ctx = document.getElementById("runtimeChart");
    new Chart(ctx, {
      type: "line",
      data: {
        labels: sizes,
        datasets: [
          {
            label: "Iteratif",
            data: timeIteratif,
            borderColor: "#1abc9c",
            backgroundColor: "#1abc9c",
            pointRadius: 5,
            tension: 0.4
          },
          {
            label: "Rekursif",
            data: timeRekursif,
            borderColor: "#e74c3c",
            backgroundColor: "#e74c3c",
            pointRadius: 5,
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: "top"
          },
          title: {
            display: true,
            text: "Perbandingan Running Time Algoritma Iteratif vs Rekursif"
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: "Ukuran Input (n)"
            }
          },
          y: {
            title: {
              display: true,
              text: "Running Time (ms)"
            },
            beginAtZero: true
          }
        }
      }
    });
  }

  window.onload = tampilkanGrafik;
</script>

